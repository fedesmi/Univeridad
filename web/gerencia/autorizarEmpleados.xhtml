<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    template="gerenteIndex.xhtml"
    xmlns:p="http://primefaces.org/ui">

    <ui:define name="source" id="define1">
        <h:form id="form1">

            <p:growl id="msgs" showDetail="true" />
            <p:outputLabel value="Empleados" />

            <br/>
            <p:dataTable id="tablaEmpleadosSinAutorizar" widgetVar="sinAutorizar" var="emp"  style="font-size: 14px;"
                         value="#{empleadoBean.empleadosSinAutorizar}"  emptyMessage="sin registros" >

                <f:facet name="header">
                    Lista de Empleados a ser Autorizados
                </f:facet>

                <p:column   headerText="Legajo" style="text-align: center;" >
                    <div style="text-align: center; font-size: 12px;" >
                        <h:outputText value="#{emp.legajo}" />
                    </div>
                </p:column>
                <p:column  headerText="Nombre">
                    <div style="text-align: center; font-size: 12px;" >
                        <h:outputText value="#{emp.nombre}" />
                    </div>
                </p:column>
                <p:column headerText="Apellido" >
                    <div style="text-align: center; font-size: 12px;" >
                        <h:outputText value="#{emp.apellido}" />
                    </div>
                </p:column>
                <p:column  headerText="DNI" >
                    <div style="text-align: center; font-size: 12px;" >
                        <h:outputText value="#{emp.dni}" />
                    </div>
                </p:column>
                <p:column  headerText="Telefono" >
                    <div style="text-align: center; font-size: 12px;" >
                        <h:outputText value="#{emp.telefono}" />
                    </div>
                </p:column>
                <p:column  headerText="Tipo">
                    <div  style="text-align: left; font-size: 12px;">
                        <h:outputText value="#{emp.idTipoEmpleado.rol}" />
                    </div>
                </p:column>
                <p:column style="width:32px;text-align: center">
                    <p:commandButton update="formGer:form1:msgs"  action="#{empleadoBean.autorizarEdicionEmpleado(authorization.user.id)}" oncomplete="PF('sinAutorizar').filter()" icon="ui-icon-check" title="Autorizar">
                        <f:setPropertyActionListener value="#{emp}" target="#{empleadoBean.empleadoSeleccionado}" />
                    </p:commandButton>
                </p:column> 

            </p:dataTable>
        </h:form>
    </ui:define>



</ui:composition>