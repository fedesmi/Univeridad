<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    template="gerenteIndex.xhtml"
    xmlns:p="http://primefaces.org/ui">

    <ui:define name="source">
        <h:form id="formInscripcion">
            <h:outputScript library="js" name="calendar_es.js"  />

            <p:outputLabel value="Inscripcion a Clases" />
            <br/>
            <p:calendar  pages="2"  mindate="#{now}" mode="inline"  beforeShowDay="tuesdaysAndFridaysDisabled" locale="es" pattern="dd-MM-yyyy" value="#{claseBean.fechaConsulta}" >
                <p:ajax event="dateSelect" listener="#{claseBean.actualizarDisponibilidad()}" update="formGer:formInscripcion:tablaDisponiblidad" />
            </p:calendar>
            <br/>
          
            <p:dataTable id="tablaDisponiblidad" widgetVar="disponibilidadWidget" var="dis"
                         value="#{claseBean.disponibilidadHorariaPorFecha}"
                         scrollable="true" scrollHeight="300" style="border-style: solid; border-color: #dbdbdb; border-width: thin;"
                         emptyMessage="sin registros" >

                <f:facet name="header">
                    Lista de Disponibilidad
                </f:facet>

                <p:column  headerText="Horario">
                    <h:outputText value="#{dis.horario}" />
                </p:column>
                 <p:column  headerText="Disponible">
                     <h:outputText value="#{dis.disponible?'SI':'NO'}" />
                </p:column>



            </p:dataTable> 






            <script type="text/javascript">
                //<![CDATA[
                function tuesdaysAndFridaysDisabled(date)
                {
                    var day = date.getDay();
                    return [(day != 0 && day != 0), '']
                }
                //]]>
            </script> 

        </h:form>
    </ui:define>



</ui:composition>